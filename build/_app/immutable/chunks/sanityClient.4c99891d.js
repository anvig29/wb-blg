import{a as qr,c as Pt,g as xr}from"./_commonjsHelpers.de833af9.js";var rt={exports:{}};function Ar(){var e=Object.create(null),t=0;function r(i){var o=t++;return e[o]=i,function(){delete e[o]}}function n(i){for(var o in e)e[o](i)}return{publish:n,subscribe:r}}const Ir=Object.freeze(Object.defineProperty({__proto__:null,default:Ar},Symbol.toStringTag,{value:"Module"})),Fr=qr(Ir);var nt={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(i){var o=function(u,c){for(var v=u==="onError",C=c,d=arguments.length,p=new Array(d>2?d-2:0),l=2;l<d;l++)p[l-2]=arguments[l];for(var f=0;f<i[u].length;f++){var h=i[u][f];if(C=h.apply(void 0,[C].concat(p)),v&&!C)break}return C};return o};t.default=r,e.exports=t.default})(nt,nt.exports);var $r=nt.exports,ot={exports:{}},Dr=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},mt={},Ur=Object.prototype.hasOwnProperty,Mr;function qt(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function xt(e){try{return encodeURIComponent(e)}catch{return null}}function Lr(e){for(var t=/([^=?#&]+)=?([^&]*)/g,r={},n;n=t.exec(e);){var i=qt(n[1]),o=qt(n[2]);i===null||o===null||i in r||(r[i]=o)}return r}function Nr(e,t){t=t||"";var r=[],n,i;typeof t!="string"&&(t="?");for(i in e)if(Ur.call(e,i)){if(n=e[i],!n&&(n===null||n===Mr||isNaN(n))&&(n=""),i=xt(i),n=xt(n),i===null||n===null)continue;r.push(i+"="+n)}return r.length?t+r.join("&"):""}mt.stringify=Nr;mt.parse=Lr;var Xt=Dr,Ne=mt,kr=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Jt=/[\n\r\t]/g,Hr=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Gt=/:\d+$/,zr=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,Br=/^[a-zA-Z]:/;function bt(e){return(e||"").toString().replace(kr,"")}var it=[["#","hash"],["?","query"],function(t,r){return se(r.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],At={hash:1,query:1};function Wt(e){var t;typeof window<"u"?t=window:typeof Pt<"u"?t=Pt:typeof self<"u"?t=self:t={};var r=t.location||{};e=e||r;var n={},i=typeof e,o;if(e.protocol==="blob:")n=new ue(unescape(e.pathname),{});else if(i==="string"){n=new ue(e,{});for(o in At)delete n[o]}else if(i==="object"){for(o in e)o in At||(n[o]=e[o]);n.slashes===void 0&&(n.slashes=Hr.test(e.href))}return n}function se(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function Qt(e,t){e=bt(e),e=e.replace(Jt,""),t=t||{};var r=zr.exec(e),n=r[1]?r[1].toLowerCase():"",i=!!r[2],o=!!r[3],s=0,u;return i?o?(u=r[2]+r[3]+r[4],s=r[2].length+r[3].length):(u=r[2]+r[4],s=r[2].length):o?(u=r[3]+r[4],s=r[3].length):u=r[4],n==="file:"?s>=2&&(u=u.slice(2)):se(n)?u=r[4]:n?i&&(u=u.slice(2)):s>=2&&se(t.protocol)&&(u=r[4]),{protocol:n,slashes:i||se(n),slashesCount:s,rest:u}}function Vr(e,t){if(e==="")return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,i=r[n-1],o=!1,s=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),s++):s&&(n===0&&(o=!0),r.splice(n,1),s--);return o&&r.unshift(""),(i==="."||i==="..")&&r.push(""),r.join("/")}function ue(e,t,r){if(e=bt(e),e=e.replace(Jt,""),!(this instanceof ue))return new ue(e,t,r);var n,i,o,s,u,c,v=it.slice(),C=typeof t,d=this,p=0;for(C!=="object"&&C!=="string"&&(r=t,t=null),r&&typeof r!="function"&&(r=Ne.parse),t=Wt(t),i=Qt(e||"",t),n=!i.protocol&&!i.slashes,d.slashes=i.slashes||n&&t.slashes,d.protocol=i.protocol||t.protocol||"",e=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||Br.test(e))||!i.slashes&&(i.protocol||i.slashesCount<2||!se(d.protocol)))&&(v[3]=[/(.*)/,"pathname"]);p<v.length;p++){if(s=v[p],typeof s=="function"){e=s(e,d);continue}o=s[0],c=s[1],o!==o?d[c]=e:typeof o=="string"?(u=o==="@"?e.lastIndexOf(o):e.indexOf(o),~u&&(typeof s[2]=="number"?(d[c]=e.slice(0,u),e=e.slice(u+s[2])):(d[c]=e.slice(u),e=e.slice(0,u)))):(u=o.exec(e))&&(d[c]=u[1],e=e.slice(0,u.index)),d[c]=d[c]||n&&s[3]&&t[c]||"",s[4]&&(d[c]=d[c].toLowerCase())}r&&(d.query=r(d.query)),n&&t.slashes&&d.pathname.charAt(0)!=="/"&&(d.pathname!==""||t.pathname!=="")&&(d.pathname=Vr(d.pathname,t.pathname)),d.pathname.charAt(0)!=="/"&&se(d.protocol)&&(d.pathname="/"+d.pathname),Xt(d.port,d.protocol)||(d.host=d.hostname,d.port=""),d.username=d.password="",d.auth&&(u=d.auth.indexOf(":"),~u?(d.username=d.auth.slice(0,u),d.username=encodeURIComponent(decodeURIComponent(d.username)),d.password=d.auth.slice(u+1),d.password=encodeURIComponent(decodeURIComponent(d.password))):d.username=encodeURIComponent(decodeURIComponent(d.auth)),d.auth=d.password?d.username+":"+d.password:d.username),d.origin=d.protocol!=="file:"&&se(d.protocol)&&d.host?d.protocol+"//"+d.host:"null",d.href=d.toString()}function Xr(e,t,r){var n=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(r||Ne.parse)(t)),n[e]=t;break;case"port":n[e]=t,Xt(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[e]=t,Gt.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(t){var i=e==="pathname"?"/":"#";n[e]=t.charAt(0)!==i?i+t:t}else n[e]=t;break;case"username":case"password":n[e]=encodeURIComponent(t);break;case"auth":var o=t.indexOf(":");~o?(n.username=t.slice(0,o),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=t.slice(o+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(t))}for(var s=0;s<it.length;s++){var u=it[s];u[4]&&(n[u[1]]=n[u[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&se(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function Jr(e){(!e||typeof e!="function")&&(e=Ne.stringify);var t,r=this,n=r.host,i=r.protocol;i&&i.charAt(i.length-1)!==":"&&(i+=":");var o=i+(r.protocol&&r.slashes||se(r.protocol)?"//":"");return r.username?(o+=r.username,r.password&&(o+=":"+r.password),o+="@"):r.password?(o+=":"+r.password,o+="@"):r.protocol!=="file:"&&se(r.protocol)&&!n&&r.pathname!=="/"&&(o+="@"),(n[n.length-1]===":"||Gt.test(r.hostname)&&!r.port)&&(n+=":"),o+=n+r.pathname,t=typeof r.query=="object"?e(r.query):r.query,t&&(o+=t.charAt(0)!=="?"?"?"+t:t),r.hash&&(o+=r.hash),o}ue.prototype={set:Xr,toString:Jr};ue.extractProtocol=Qt;ue.location=Wt;ue.trimLeft=bt;ue.qs=Ne;var Gr=ue;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(Gr);function n(p){return p&&p.__esModule?p:{default:p}}function i(){return i=Object.assign?Object.assign.bind():function(p){for(var l=1;l<arguments.length;l++){var f=arguments[l];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(p[h]=f[h])}return p},i.apply(this,arguments)}var o=typeof navigator>"u"?!1:navigator.product==="ReactNative",s=Object.prototype.hasOwnProperty,u={timeout:o?6e4:12e4},c=function(l){var f=typeof l=="string"?i({url:l},u):i({},u,l),h=(0,r.default)(f.url,{},!0);return f.timeout=C(f.timeout),f.query&&(h.query=i({},h.query,d(f.query))),f.method=f.body&&!f.method?"POST":(f.method||"GET").toUpperCase(),f.url=h.toString(v),f};t.default=c;function v(p){var l=[];for(var f in p)s.call(p,f)&&h(f,p[f]);return l.length?l.join("&"):"";function h(b,P){Array.isArray(P)?P.forEach(function(m){return h(b,m)}):l.push([b,P].map(encodeURIComponent).join("="))}}function C(p){if(p===!1||p===0)return!1;if(p.connect||p.socket)return p;var l=Number(p);return isNaN(l)?C(u.timeout):{connect:l,socket:l}}function d(p){var l={};for(var f in p)p[f]!==void 0&&(l[f]=p[f]);return l}e.exports=t.default})(ot,ot.exports);var Wr=ot.exports,st={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=/^https?:\/\//i,n=function(o){if(!r.test(o.url))throw new Error('"'.concat(o.url,'" is not a valid URL'))};t.default=n,e.exports=t.default})(st,st.exports);var Qr=st.exports,at={exports:{}},ut={exports:{}},It=/^(?:(?:(?:([^:\/#\?]+:)?(?:(?:\/\/)((?:((?:[^:@\/#\?]+)(?:\:(?:[^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((?:\/?(?:[^\/\?#]+\/+)*)(?:[^\?#]*)))?(\?[^#]+)?)(#.*)?/,Yr={regex:It,parse:function(e){var t=It.exec(e);return t?{protocol:(t[1]||"").toLowerCase()||void 0,hostname:(t[5]||"").toLowerCase()||void 0,port:t[6]||void 0}:{}}},Ft=Yr,Zr=function(e,t,r){if(e===t)return!0;var n=Ft.parse(e,!1,!0),i=Ft.parse(t,!1,!0),o=n.port|0||(n.protocol==="https"?443:80),s=i.port|0||(i.protocol==="https"?443:80),u={proto:n.protocol===i.protocol,hostname:n.hostname===i.hostname,port:o===s};return u.proto&&u.hostname&&(u.port||r)},Ye=function(e){return e.replace(/^\s+|\s+$/g,"")},Kr=function(e){return Object.prototype.toString.call(e)==="[object Array]"},en=function(e){if(!e)return{};for(var t={},r=Ye(e).split(`
`),n=0;n<r.length;n++){var i=r[n],o=i.indexOf(":"),s=Ye(i.slice(0,o)).toLowerCase(),u=Ye(i.slice(o+1));typeof t[s]>"u"?t[s]=u:Kr(t[s])?t[s].push(u):t[s]=[t[s],u]}return t},ct={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function r(){this.readyState=0}r.prototype.open=function(i,o){this._method=i,this._url=o,this._resHeaders="",this.readyState=1,this.onreadystatechange()},r.prototype.abort=function(){this._controller&&this._controller.abort()},r.prototype.getAllResponseHeaders=function(){return this._resHeaders},r.prototype.setRequestHeader=function(i,o){this._headers=this._headers||{},this._headers[i]=o},r.prototype.send=function(i){var o=this,s=this._controller=typeof AbortController=="function"&&new AbortController,u=this.responseType!=="arraybuffer",c={method:this._method,headers:this._headers,signal:s&&s.signal||void 0,body:i};typeof document<"u"&&(c.credentials=this.withCredentials?"include":"omit"),fetch(this._url,c).then(function(v){return v.headers.forEach(function(C,d){o._resHeaders+="".concat(d,": ").concat(C,`\r
`)}),o.status=v.status,o.statusText=v.statusText,o.readyState=3,u?v.text():v.arrayBuffer()}).then(function(v){u?o.responseText=v:o.response=v,o.readyState=4,o.onreadystatechange()}).catch(function(v){if(v.name==="AbortError"){o.onabort();return}o.onerror(v)})};var n=r;t.default=n,e.exports=t.default})(ct,ct.exports);var tn=ct.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(Zr),n=o(en),i=o(tn);function o(f){return f&&f.__esModule?f:{default:f}}var s=function(){},u=typeof document>"u"||typeof window>"u"?void 0:window,c=u?"xhr":"fetch",v=typeof XMLHttpRequest=="function"?XMLHttpRequest:s,C="withCredentials"in new v,d=typeof XDomainRequest>"u"?void 0:XDomainRequest,p=C?v:d;u||(v=i.default,p=i.default);var l=function(h,b){var P=h.options,m=h.applyMiddleware("finalizeOptions",P),E={},I=u&&u.location&&!(0,r.default)(u.location.href,m.url),z=h.applyMiddleware("interceptRequest",void 0,{adapter:c,context:h});if(z){var W=setTimeout(b,0,null,z),V=function(){return clearTimeout(W)};return{abort:V}}var j=I?new p:new v,k=u&&u.XDomainRequest&&j instanceof u.XDomainRequest,F=m.headers,M=m.timeout,q=!1,U=!1,re=!1;j.onerror=Q,j.ontimeout=Q,j.onabort=function(){he(!0),q=!0},j.onprogress=function(){};var be=k?"onload":"onreadystatechange";if(j[be]=function(){ye(),!(q||j.readyState!==4&&!k)&&j.status!==0&&Ie()},j.open(m.method,m.url,!0),j.withCredentials=!!m.withCredentials,F&&j.setRequestHeader)for(var ve in F)F.hasOwnProperty(ve)&&j.setRequestHeader(ve,F[ve]);else if(F&&k)throw new Error("Headers cannot be set on an XDomainRequest object");return m.rawBody&&(j.responseType="arraybuffer"),h.applyMiddleware("onRequest",{options:m,adapter:c,request:j,context:h}),j.send(m.body||null),M&&(E.connect=setTimeout(function(){return ce("ETIMEDOUT")},M.connect)),{abort:ie};function ie(){q=!0,j&&j.abort()}function ce(B){re=!0,j.abort();var te=new Error(B==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(m.url):"Connection timed out on request to ".concat(m.url));te.code=B,h.channels.error.publish(te)}function ye(){M&&(he(),E.socket=setTimeout(function(){return ce("ESOCKETTIMEDOUT")},M.socket))}function he(B){(B||q||j.readyState>=2&&E.connect)&&clearTimeout(E.connect),E.socket&&clearTimeout(E.socket)}function Q(B){if(!U){he(!0),U=!0,j=null;var te=B||new Error("Network error while attempting to reach ".concat(m.url));te.isNetworkError=!0,te.request=m,b(te)}}function Pe(){var B=j.status,te=j.statusText;if(k&&B===void 0)B=200;else{if(B>12e3&&B<12156)return Q();B=j.status===1223?204:j.status,te=j.status===1223?"No Content":te}return{body:j.response||j.responseText,url:m.url,method:m.method,headers:k?{}:(0,n.default)(j.getAllResponseHeaders()),statusCode:B,statusMessage:te}}function Ie(){if(!(q||U||re)){if(j.status===0){Q(new Error("Unknown XHR error"));return}he(),U=!0,b(null,Pe())}}};t.default=l,e.exports=t.default})(ut,ut.exports);var rn=ut.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(rn);function n(o){return o&&o.__esModule?o:{default:o}}var i=r.default;t.default=i,e.exports=t.default})(at,at.exports);var nn=at.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=u(Fr),n=u($r),i=u(Wr),o=u(Qr),s=u(nn);function u(p){return p&&p.__esModule?p:{default:p}}var c="default"in r.default?r.default.default:r.default,v=["request","response","progress","error","abort"],C=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function d(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.default,f=[],h=C.reduce(function(P,m){return P[m]=P[m]||[],P},{processOptions:[i.default],validateOptions:[o.default]});function b(P){var m=v.reduce(function(F,M){return F[M]=c(),F},{}),E=(0,n.default)(h),I=E("processOptions",P);E("validateOptions",I);var z={options:I,channels:m,applyMiddleware:E},W=null,V=m.request.subscribe(function(F){W=l(F,function(M,q){return k(M,q,F)})});m.abort.subscribe(function(){V(),W&&W.abort()});var j=E("onReturn",m,z);return j===m&&m.request.publish(z),j;function k(F,M,q){var U=F,re=M;if(!U)try{re=E("onResponse",M,q)}catch(be){re=null,U=be}U=U&&E("onError",U,q),U?m.error.publish(U):re&&m.response.publish(re)}}return b.use=function(m){if(!m)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof m=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(m.onReturn&&h.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return C.forEach(function(E){m[E]&&h[E].push(m[E])}),f.push(m),b},b.clone=function(){return d(f)},p.forEach(b.use),b}e.exports=t.default})(rt,rt.exports);var on=rt.exports;const sn=xr(on);function $t(e){return Object.prototype.toString.call(e)==="[object Object]"}function an(e){var t,r;return $t(e)===!1?!1:(t=e.constructor,t===void 0?!0:(r=t.prototype,!($t(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var un=Object.create,ke=Object.defineProperty,cn=Object.getOwnPropertyDescriptor,wt=Object.getOwnPropertyNames,ln=Object.getPrototypeOf,fn=Object.prototype.hasOwnProperty,dn=(e,t)=>function(){return e&&(t=(0,e[wt(e)[0]])(e=0)),t},Re=(e,t)=>function(){return t||(0,e[wt(e)[0]])((t={exports:{}}).exports,t),t.exports},pn=(e,t)=>{for(var r in t)ke(e,r,{get:t[r],enumerable:!0})},Yt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of wt(t))!fn.call(e,i)&&i!==r&&ke(e,i,{get:()=>t[i],enumerable:!(n=cn(t,i))||n.enumerable});return e},Ct=(e,t,r)=>(r=e!=null?un(ln(e)):{},Yt(t||!e||!e.__esModule?ke(r,"default",{value:e,enumerable:!0}):r,e)),hn=e=>Yt(ke({},"__esModule",{value:!0}),e),vn=Re({"node_modules/form-urlencoded/dist/form-urlencoded.js"(e,t){var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};t.exports=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=!!i.sorted,s=!!i.skipIndex,u=!!i.ignorenull,c=function(h){return String(h).replace(/(?:[\0-\x1F"-&\+-\}\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,encodeURIComponent).replace(/ /g,"+").replace(/[!'()~\*]/g,function(b){return"%"+b.charCodeAt().toString(16).slice(-2).toUpperCase()})},v=function(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.keys(h);return o?b.sort():b},C=function(h){return h.filter(function(b){return b}).join("&")},d=function(h,b){return C(v(b).map(function(P){return l(h+"["+P+"]",b[P])}))},p=function(h,b){return b.length?C(b.map(function(P,m){return l(s?h+"[]":h+"["+m+"]",P)})):c(h+"[]")},l=function(h,b){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:typeof b>"u"?"undefined":r(b),m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return b===m?m=u?m:c(h)+"="+m:/string|number|boolean/.test(P)?m=c(h)+"="+c(b):Array.isArray(b)?m=p(h,b):P==="object"&&(m=d(h,b)),m};return n&&C(v(n).map(function(f){return l(f,n[f])}))}}}),Dt=Ct(vn());Dt.default.default||Dt.default;var yn=()=>({onRequest:e=>{if(e.adapter!=="xhr")return;const t=e.request,r=e.context;"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=n("upload")),"onprogress"in t&&(t.onprogress=n("download"));function n(i){return o=>{const s=o.lengthComputable?o.loaded/o.total*100:-1;r.channels.progress.publish({stage:i,percent:s,total:o.total,loaded:o.loaded,lengthComputable:o.lengthComputable})}}}}),gn=["boolean","string","number"],mn=e=>!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e),bn=()=>({processOptions:e=>{const t=e.body;return!t||!(!(typeof t.pipe=="function")&&!mn(t)&&(gn.indexOf(typeof t)!==-1||Array.isArray(t)||an(t)))?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}),wn=e=>({onResponse:t=>{const r=t.headers["content-type"]||"",n=e&&e.force||r.indexOf("application/json")!==-1;return!t.body||!r||!n?t:Object.assign({},t,{body:Cn(t.body)})},processOptions:t=>Object.assign({},t,{headers:Object.assign({Accept:"application/json"},t.headers)})});function Cn(e){try{return JSON.parse(e)}catch(t){throw t.message=`Failed to parsed response body as JSON: ${t.message}`,t}}var Oe;typeof globalThis<"u"?Oe=globalThis:typeof window<"u"?Oe=window:typeof global<"u"?Oe=global:typeof self<"u"?Oe=self:Oe={};var _n=Oe,En=(e={})=>{const t=e.implementation||_n.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(r,n)=>new t(i=>(r.error.subscribe(o=>i.error(o)),r.progress.subscribe(o=>i.next(Object.assign({type:"progress"},o))),r.response.subscribe(o=>{i.next(Object.assign({type:"response"},o)),i.complete()}),r.request.publish(n),()=>r.abort.publish()))}},Zt={};pn(Zt,{default:()=>Kt});function Ze(e){this.message=e}var Kt,er=dn({"src/middleware/cancel/Cancel.js"(){Ze.prototype.toString=function(){return`Cancel${this.message?`: ${this.message}`:""}`},Ze.prototype.__CANCEL__=!0,Kt=Ze}});er();var On=(er(),hn(Zt));function Ut(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t=null;this.promise=new Promise(r=>{t=r}),e(r=>{this.reason||(this.reason=new On(r),t(this.reason))})}Ut.source=function(){let e;return{token:new Ut(r=>{e=r}),cancel:e}};var Sn=Re({"node_modules/ms/index.js"(e,t){var r=1e3,n=r*60,i=n*60,o=i*24,s=o*7,u=o*365.25;t.exports=function(p,l){l=l||{};var f=typeof p;if(f==="string"&&p.length>0)return c(p);if(f==="number"&&isFinite(p))return l.long?C(p):v(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function c(p){if(p=String(p),!(p.length>100)){var l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(l){var f=parseFloat(l[1]),h=(l[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return f*u;case"weeks":case"week":case"w":return f*s;case"days":case"day":case"d":return f*o;case"hours":case"hour":case"hrs":case"hr":case"h":return f*i;case"minutes":case"minute":case"mins":case"min":case"m":return f*n;case"seconds":case"second":case"secs":case"sec":case"s":return f*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function v(p){var l=Math.abs(p);return l>=o?Math.round(p/o)+"d":l>=i?Math.round(p/i)+"h":l>=n?Math.round(p/n)+"m":l>=r?Math.round(p/r)+"s":p+"ms"}function C(p){var l=Math.abs(p);return l>=o?d(p,l,o,"day"):l>=i?d(p,l,i,"hour"):l>=n?d(p,l,n,"minute"):l>=r?d(p,l,r,"second"):p+" ms"}function d(p,l,f,h){var b=l>=f*1.5;return Math.round(p/f)+" "+h+(b?"s":"")}}}),jn=Re({"node_modules/debug/src/common.js"(e,t){function r(n){o.debug=o,o.default=o,o.coerce=d,o.disable=c,o.enable=u,o.enabled=v,o.humanize=Sn(),o.destroy=p,Object.keys(n).forEach(l=>{o[l]=n[l]}),o.names=[],o.skips=[],o.formatters={};function i(l){let f=0;for(let h=0;h<l.length;h++)f=(f<<5)-f+l.charCodeAt(h),f|=0;return o.colors[Math.abs(f)%o.colors.length]}o.selectColor=i;function o(l){let f,h=null,b,P;function m(...E){if(!m.enabled)return;const I=m,z=Number(new Date),W=z-(f||z);I.diff=W,I.prev=f,I.curr=z,f=z,E[0]=o.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let V=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(k,F)=>{if(k==="%%")return"%";V++;const M=o.formatters[F];if(typeof M=="function"){const q=E[V];k=M.call(I,q),E.splice(V,1),V--}return k}),o.formatArgs.call(I,E),(I.log||o.log).apply(I,E)}return m.namespace=l,m.useColors=o.useColors(),m.color=o.selectColor(l),m.extend=s,m.destroy=o.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(b!==o.namespaces&&(b=o.namespaces,P=o.enabled(l)),P),set:E=>{h=E}}),typeof o.init=="function"&&o.init(m),m}function s(l,f){const h=o(this.namespace+(typeof f>"u"?":":f)+l);return h.log=this.log,h}function u(l){o.save(l),o.namespaces=l,o.names=[],o.skips=[];let f;const h=(typeof l=="string"?l:"").split(/[\s,]+/),b=h.length;for(f=0;f<b;f++)h[f]&&(l=h[f].replace(/\*/g,".*?"),l[0]==="-"?o.skips.push(new RegExp("^"+l.slice(1)+"$")):o.names.push(new RegExp("^"+l+"$")))}function c(){const l=[...o.names.map(C),...o.skips.map(C).map(f=>"-"+f)].join(",");return o.enable(""),l}function v(l){if(l[l.length-1]==="*")return!0;let f,h;for(f=0,h=o.skips.length;f<h;f++)if(o.skips[f].test(l))return!1;for(f=0,h=o.names.length;f<h;f++)if(o.names[f].test(l))return!0;return!1}function C(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function d(l){return l instanceof Error?l.stack||l.message:l}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}t.exports=r}}),Tn=Re({"node_modules/debug/src/browser.js"(e,t){e.formatArgs=n,e.save=i,e.load=o,e.useColors=r,e.storage=s(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const v="color: "+this.color;c.splice(1,0,v,"color: inherit");let C=0,d=0;c[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(C++,p==="%c"&&(d=C))}),c.splice(d,0,v)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function o(){let c;try{c=e.storage.getItem("debug")}catch{}return c}function s(){try{return localStorage}catch{}}t.exports=jn()(e);var{formatters:u}=t.exports;u.j=function(c){try{return JSON.stringify(c)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}}}});Ct(Tn());var Rn=Re({"node_modules/capture-stack-trace/index.js"(e,t){t.exports=Error.captureStackTrace||function(r){var n=new Error;Object.defineProperty(r,"stack",{configurable:!0,get:function(){var o=n.stack;return Object.defineProperty(this,"stack",{value:o}),o}})}}}),Pn=Re({"node_modules/create-error-class/index.js"(e,t){var r=Rn();function n(i,o){i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}t.exports=function(o,s){if(typeof o!="string")throw new TypeError("Expected className to be a string");if(/[^0-9a-zA-Z_$]/.test(o))throw new Error("className contains invalid characters");s=s||function(c){this.message=c};var u=function(){Object.defineProperty(this,"name",{configurable:!0,value:o,writable:!0}),r(this,this.constructor),s.apply(this,arguments)};return n(u,Error),u}}}),qn=Ct(Pn());(0,qn.default)("HttpError",function(e,t){const r=e.url.length>400?`${e.url.slice(0,399)}…`:e.url;let n=`${e.method}-request to ${r} resulted in `;n+=`HTTP ${e.statusCode} ${e.statusMessage}`,this.message=n.trim(),this.response=e,this.request=t.options});var xn=Object.create,tr=Object.defineProperty,An=Object.getOwnPropertyDescriptor,rr=Object.getOwnPropertyNames,In=Object.getPrototypeOf,Fn=Object.prototype.hasOwnProperty,_t=(e,t)=>function(){return t||(0,e[rr(e)[0]])((t={exports:{}}).exports,t),t.exports},$n=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of rr(t))!Fn.call(e,i)&&i!==r&&tr(e,i,{get:()=>t[i],enumerable:!(n=An(t,i))||n.enumerable});return e},nr=(e,t,r)=>(r=e!=null?xn(In(e)):{},$n(t||!e||!e.__esModule?tr(r,"default",{value:e,enumerable:!0}):r,e)),Dn=_t({"node_modules/event-source-polyfill/src/eventsource.js"(e,t){(function(r){var n=r.setTimeout,i=r.clearTimeout,o=r.XMLHttpRequest,s=r.XDomainRequest,u=r.ActiveXObject,c=r.EventSource,v=r.document,C=r.Promise,d=r.fetch,p=r.Response,l=r.TextDecoder,f=r.TextEncoder,h=r.AbortController;if(typeof window<"u"&&typeof v<"u"&&!("readyState"in v)&&v.body==null&&(v.readyState="loading",window.addEventListener("load",function(a){v.readyState="complete"},!1)),o==null&&u!=null&&(o=function(){return new u("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(a){function g(){}return g.prototype=a,new g}),Date.now||(Date.now=function(){return new Date().getTime()}),h==null){var b=d;d=function(a,g){var w=g.signal;return b(a,{headers:g.headers,credentials:g.credentials,cache:g.cache}).then(function(y){var O=y.body.getReader();return w._reader=O,w._aborted&&w._reader.cancel(),{status:y.status,statusText:y.statusText,headers:y.headers,body:{getReader:function(){return O}}}})},h=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function P(){this.bitsNeeded=0,this.codePoint=0}P.prototype.decode=function(a){function g(x,A,S){if(S===1)return x>=128>>A&&x<<A<=2047;if(S===2)return x>=2048>>A&&x<<A<=55295||x>=57344>>A&&x<<A<=65535;if(S===3)return x>=65536>>A&&x<<A<=1114111;throw new Error}function w(x,A){if(x===6*1)return A>>6>15?3:A>31?2:1;if(x===6*2)return A>15?3:2;if(x===6*3)return 3;throw new Error}for(var y=65533,O="",_=this.bitsNeeded,T=this.codePoint,$=0;$<a.length;$+=1){var R=a[$];_!==0&&(R<128||R>191||!g(T<<6|R&63,_-6,w(_,T)))&&(_=0,T=y,O+=String.fromCharCode(T)),_===0?(R>=0&&R<=127?(_=0,T=R):R>=192&&R<=223?(_=6*1,T=R&31):R>=224&&R<=239?(_=6*2,T=R&15):R>=240&&R<=247?(_=6*3,T=R&7):(_=0,T=y),_!==0&&!g(T,_,w(_,T))&&(_=0,T=y)):(_-=6,T=T<<6|R&63),_===0&&(T<=65535?O+=String.fromCharCode(T):(O+=String.fromCharCode(55296+(T-65535-1>>10)),O+=String.fromCharCode(56320+(T-65535-1&1023))))}return this.bitsNeeded=_,this.codePoint=T,O};var m=function(){try{return new l().decode(new f().encode("test"),{stream:!0})==="test"}catch(a){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+a)}return!1};(l==null||f==null||!m())&&(l=P);var E=function(){};function I(a){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=E,this.onload=E,this.onerror=E,this.onreadystatechange=E,this._contentType="",this._xhr=a,this._sendTimeout=0,this._abort=E}I.prototype.open=function(a,g){this._abort(!0);var w=this,y=this._xhr,O=1,_=0;this._abort=function(S){w._sendTimeout!==0&&(i(w._sendTimeout),w._sendTimeout=0),(O===1||O===2||O===3)&&(O=4,y.onload=E,y.onerror=E,y.onabort=E,y.onprogress=E,y.onreadystatechange=E,y.abort(),_!==0&&(i(_),_=0),S||(w.readyState=4,w.onabort(null),w.onreadystatechange())),O=0};var T=function(){if(O===1){var S=0,D="",le=void 0;if("contentType"in y)S=200,D="OK",le=y.contentType;else try{S=y.status,D=y.statusText,le=y.getResponseHeader("Content-Type")}catch{S=0,D="",le=void 0}S!==0&&(O=2,w.readyState=2,w.status=S,w.statusText=D,w._contentType=le,w.onreadystatechange())}},$=function(){if(T(),O===2||O===3){O=3;var S="";try{S=y.responseText}catch{}w.readyState=3,w.responseText=S,w.onprogress()}},R=function(S,D){if((D==null||D.preventDefault==null)&&(D={preventDefault:E}),$(),O===1||O===2||O===3){if(O=4,_!==0&&(i(_),_=0),w.readyState=4,S==="load")w.onload(D);else if(S==="error")w.onerror(D);else if(S==="abort")w.onabort(D);else throw new TypeError;w.onreadystatechange()}},x=function(S){y!=null&&(y.readyState===4?(!("onload"in y)||!("onerror"in y)||!("onabort"in y))&&R(y.responseText===""?"error":"load",S):y.readyState===3?"onprogress"in y||$():y.readyState===2&&T())},A=function(){_=n(function(){A()},500),y.readyState===3&&$()};"onload"in y&&(y.onload=function(S){R("load",S)}),"onerror"in y&&(y.onerror=function(S){R("error",S)}),"onabort"in y&&(y.onabort=function(S){R("abort",S)}),"onprogress"in y&&(y.onprogress=$),"onreadystatechange"in y&&(y.onreadystatechange=function(S){x(S)}),("contentType"in y||!("ontimeout"in o.prototype))&&(g+=(g.indexOf("?")===-1?"?":"&")+"padding=true"),y.open(a,g,!0),"readyState"in y&&(_=n(function(){A()},0))},I.prototype.abort=function(){this._abort(!1)},I.prototype.getResponseHeader=function(a){return this._contentType},I.prototype.setRequestHeader=function(a,g){var w=this._xhr;"setRequestHeader"in w&&w.setRequestHeader(a,g)},I.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},I.prototype.send=function(){if((!("ontimeout"in o.prototype)||!("sendAsBinary"in o.prototype)&&!("mozAnon"in o.prototype))&&v!=null&&v.readyState!=null&&v.readyState!=="complete"){var a=this;a._sendTimeout=n(function(){a._sendTimeout=0,a.send()},4);return}var g=this._xhr;"withCredentials"in g&&(g.withCredentials=this.withCredentials);try{g.send(void 0)}catch(w){throw w}};function z(a){return a.replace(/[A-Z]/g,function(g){return String.fromCharCode(g.charCodeAt(0)+32)})}function W(a){for(var g=Object.create(null),w=a.split(`\r
`),y=0;y<w.length;y+=1){var O=w[y],_=O.split(": "),T=_.shift(),$=_.join(": ");g[z(T)]=$}this._map=g}W.prototype.get=function(a){return this._map[z(a)]},o!=null&&o.HEADERS_RECEIVED==null&&(o.HEADERS_RECEIVED=2);function V(){}V.prototype.open=function(a,g,w,y,O,_,T){a.open("GET",O);var $=0;a.onprogress=function(){var x=a.responseText,A=x.slice($);$+=A.length,w(A)},a.onerror=function(x){x.preventDefault(),y(new Error("NetworkError"))},a.onload=function(){y(null)},a.onabort=function(){y(null)},a.onreadystatechange=function(){if(a.readyState===o.HEADERS_RECEIVED){var x=a.status,A=a.statusText,S=a.getResponseHeader("Content-Type"),D=a.getAllResponseHeaders();g(x,A,S,new W(D))}},a.withCredentials=_;for(var R in T)Object.prototype.hasOwnProperty.call(T,R)&&a.setRequestHeader(R,T[R]);return a.send(),a};function j(a){this._headers=a}j.prototype.get=function(a){return this._headers.get(a)};function k(){}k.prototype.open=function(a,g,w,y,O,_,T){var $=null,R=new h,x=R.signal,A=new l;return d(O,{headers:T,credentials:_?"include":"same-origin",signal:x,cache:"no-store"}).then(function(S){return $=S.body.getReader(),g(S.status,S.statusText,S.headers.get("Content-Type"),new j(S.headers)),new C(function(D,le){var qe=function(){$.read().then(function(Y){if(Y.done)D(void 0);else{var X=A.decode(Y.value,{stream:!0});w(X),qe()}}).catch(function(Y){le(Y)})};qe()})}).catch(function(S){if(S.name!=="AbortError")return S}).then(function(S){y(S)}),{abort:function(){$!=null&&$.cancel(),R.abort()}}};function F(){this._listeners=Object.create(null)}function M(a){n(function(){throw a},0)}F.prototype.dispatchEvent=function(a){a.target=this;var g=this._listeners[a.type];if(g!=null)for(var w=g.length,y=0;y<w;y+=1){var O=g[y];try{typeof O.handleEvent=="function"?O.handleEvent(a):O.call(this,a)}catch(_){M(_)}}},F.prototype.addEventListener=function(a,g){a=String(a);var w=this._listeners,y=w[a];y==null&&(y=[],w[a]=y);for(var O=!1,_=0;_<y.length;_+=1)y[_]===g&&(O=!0);O||y.push(g)},F.prototype.removeEventListener=function(a,g){a=String(a);var w=this._listeners,y=w[a];if(y!=null){for(var O=[],_=0;_<y.length;_+=1)y[_]!==g&&O.push(y[_]);O.length===0?delete w[a]:w[a]=O}};function q(a){this.type=a,this.target=void 0}function U(a,g){q.call(this,a),this.data=g.data,this.lastEventId=g.lastEventId}U.prototype=Object.create(q.prototype);function re(a,g){q.call(this,a),this.status=g.status,this.statusText=g.statusText,this.headers=g.headers}re.prototype=Object.create(q.prototype);function be(a,g){q.call(this,a),this.error=g.error}be.prototype=Object.create(q.prototype);var ve=-1,ie=0,ce=1,ye=2,he=-1,Q=0,Pe=1,Ie=2,B=3,te=/^text\/event\-stream(;.*)?$/i,Er=1e3,Or=18e6,Je=function(a,g){var w=a==null?g:parseInt(a,10);return w!==w&&(w=g),Ge(w)},Ge=function(a){return Math.min(Math.max(a,Er),Or)},we=function(a,g,w){try{typeof g=="function"&&g.call(a,w)}catch(y){M(y)}};function ne(a,g){F.call(this),g=g||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,Tr(this,a,g)}function Sr(){return o!=null&&"withCredentials"in o.prototype||s==null?new o:new s}var jr=d!=null&&p!=null&&"body"in p.prototype;function Tr(a,g,w){g=String(g);var y=!!w.withCredentials,O=w.lastEventIdQueryParameterName||"lastEventId",_=Ge(1e3),T=Je(w.heartbeatTimeout,45e3),$="",R=_,x=!1,A=0,S=w.headers||{},D=w.Transport,le=jr&&D==null?void 0:new I(D!=null?new D:Sr()),qe=D!=null&&typeof D!="string"?new D:le==null?new k:new V,Y=void 0,X=0,oe=ve,Ce="",Fe="",fe="",$e="",J=Q,We=0,ge=0,Rr=function(N,L,Z,K){if(oe===ie)if(N===200&&Z!=null&&te.test(Z)){oe=ce,x=Date.now(),R=_,a.readyState=ce;var G=new re("open",{status:N,statusText:L,headers:K});a.dispatchEvent(G),we(a,a.onopen,G)}else{var H="";N!==200?(L&&(L=L.replace(/\s+/g," ")),H="EventSource's response has a status "+N+" "+L+" that is not 200. Aborting the connection."):H="EventSource's response has a Content-Type specifying an unsupported type: "+(Z==null?"-":Z.replace(/\s+/g," "))+". Aborting the connection.",Qe();var G=new re("error",{status:N,statusText:L,headers:K});a.dispatchEvent(G),we(a,a.onerror,G),console.error(H)}},Pr=function(N){if(oe===ce){for(var L=-1,Z=0;Z<N.length;Z+=1){var K=N.charCodeAt(Z);(K===`
`.charCodeAt(0)||K==="\r".charCodeAt(0))&&(L=Z)}var G=(L!==-1?$e:"")+N.slice(0,L+1);$e=(L===-1?$e:"")+N.slice(L+1),N!==""&&(x=Date.now(),A+=N.length);for(var H=0;H<G.length;H+=1){var K=G.charCodeAt(H);if(J===he&&K===`
`.charCodeAt(0))J=Q;else if(J===he&&(J=Q),K==="\r".charCodeAt(0)||K===`
`.charCodeAt(0)){if(J!==Q){J===Pe&&(ge=H+1);var de=G.slice(We,ge-1),pe=G.slice(ge+(ge<H&&G.charCodeAt(ge)===" ".charCodeAt(0)?1:0),H);de==="data"?(Ce+=`
`,Ce+=pe):de==="id"?Fe=pe:de==="event"?fe=pe:de==="retry"?(_=Je(pe,_),R=_):de==="heartbeatTimeout"&&(T=Je(pe,T),X!==0&&(i(X),X=n(function(){xe()},T)))}if(J===Q){if(Ce!==""){$=Fe,fe===""&&(fe="message");var _e=new U(fe,{data:Ce.slice(1),lastEventId:Fe});if(a.dispatchEvent(_e),fe==="open"?we(a,a.onopen,_e):fe==="message"?we(a,a.onmessage,_e):fe==="error"&&we(a,a.onerror,_e),oe===ye)return}Ce="",fe=""}J=K==="\r".charCodeAt(0)?he:Q}else J===Q&&(We=H,J=Pe),J===Pe?K===":".charCodeAt(0)&&(ge=H+1,J=Ie):J===Ie&&(J=B)}}},Rt=function(N){if(oe===ce||oe===ie){oe=ve,X!==0&&(i(X),X=0),X=n(function(){xe()},R),R=Ge(Math.min(_*16,R*2)),a.readyState=ie;var L=new be("error",{error:N});a.dispatchEvent(L),we(a,a.onerror,L),N!=null&&console.error(N)}},Qe=function(){oe=ye,Y!=null&&(Y.abort(),Y=void 0),X!==0&&(i(X),X=0),a.readyState=ye},xe=function(){if(X=0,oe!==ve){if(!x&&Y!=null)Rt(new Error("No activity within "+T+" milliseconds. "+(oe===ie?"No response received.":A+" chars received.")+" Reconnecting.")),Y!=null&&(Y.abort(),Y=void 0);else{var N=Math.max((x||Date.now())+T-Date.now(),1);x=!1,X=n(function(){xe()},N)}return}x=!1,A=0,X=n(function(){xe()},T),oe=ie,Ce="",fe="",Fe=$,$e="",We=0,ge=0,J=Q;var L=g;if(g.slice(0,5)!=="data:"&&g.slice(0,5)!=="blob:"&&$!==""){var Z=g.indexOf("?");L=Z===-1?g:g.slice(0,Z+1)+g.slice(Z+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(pe,_e){return _e===O?"":pe}),L+=(g.indexOf("?")===-1?"?":"&")+O+"="+encodeURIComponent($)}var K=a.withCredentials,G={};G.Accept="text/event-stream";var H=a.headers;if(H!=null)for(var de in H)Object.prototype.hasOwnProperty.call(H,de)&&(G[de]=H[de]);try{Y=qe.open(le,Rr,Pr,Rt,L,K,G)}catch(pe){throw Qe(),pe}};a.url=g,a.readyState=ie,a.withCredentials=y,a.headers=S,a._close=Qe,xe()}ne.prototype=Object.create(F.prototype),ne.prototype.CONNECTING=ie,ne.prototype.OPEN=ce,ne.prototype.CLOSED=ye,ne.prototype.close=function(){this._close()},ne.CONNECTING=ie,ne.OPEN=ce,ne.CLOSED=ye,ne.prototype.withCredentials=void 0;var Tt=c;o!=null&&(c==null||!("withCredentials"in c.prototype))&&(Tt=ne),function(a){if(typeof t=="object"&&typeof t.exports=="object"){var g=a(e);g!==void 0&&(t.exports=g)}else typeof define=="function"&&define.amd?define(["exports"],a):a(r)}(function(a){a.EventSourcePolyfill=ne,a.NativeEventSource=c,a.EventSource=Tt})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:e:globalThis)}}),Un=_t({"node_modules/@sanity/eventsource/browser.js"(e,t){var r=Dn();t.exports=r.EventSourcePolyfill}}),Mn=_t({"node_modules/make-error/index.js"(e,t){var r=typeof Reflect<"u"?Reflect.construct:void 0,n=Object.defineProperty,i=Error.captureStackTrace;i===void 0&&(i=function(v){var C=new Error;n(v,"stack",{configurable:!0,get:function(){var p=C.stack;return n(this,"stack",{configurable:!0,value:p,writable:!0}),p},set:function(p){n(v,"stack",{configurable:!0,value:p,writable:!0})}})});function o(c){c!==void 0&&n(this,"message",{configurable:!0,value:c,writable:!0});var v=this.constructor.name;v!==void 0&&v!==this.name&&n(this,"name",{configurable:!0,value:v,writable:!0}),i(this,this.constructor)}o.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:o,writable:!0}});var s=function(){function c(C,d){return n(C,"name",{configurable:!0,value:d})}try{var v=function(){};if(c(v,"foo"),v.name==="foo")return c}catch{}}();function u(c,v){if(v==null||v===Error)v=o;else if(typeof v!="function")throw new TypeError("super_ should be a function");var C;if(typeof c=="string")C=c,c=r!==void 0?function(){return r(v,arguments,this.constructor)}:function(){v.apply(this,arguments)},s!==void 0&&(s(c,C),C=void 0);else if(typeof c!="function")throw new TypeError("constructor should be either a string or a function");c.super_=c.super=v;var d={constructor:{configurable:!0,value:c,writable:!0}};return C!==void 0&&(d.name={configurable:!0,value:C,writable:!0}),c.prototype=Object.create(v.prototype,d),c}e=t.exports=u,e.BaseError=o}});function or(e){if(typeof e=="string"||Array.isArray(e))return{id:e};if(e&&e.query)return"params"in e?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${t}`)}var Mt=["image","file"],Lt=["before","after","replace"],ir=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Ln=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},Nn=e=>{if(Mt.indexOf(e)===-1)throw new Error(`Invalid asset type: ${e}. Must be one of ${Mt.join(", ")}`)},je=(e,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error(`${e}() takes an object of properties`)},sr=(e,t)=>{if(typeof t!="string"||!/^[a-z0-9_.-]+$/i.test(t))throw new Error(`${e}(): "${t}" is not a valid document ID`)},Me=(e,t)=>{if(!t._id)throw new Error(`${e}() requires that the document contains an ID ("_id" property)`);sr(e,t._id)},kn=(e,t,r)=>{const n="insert(at, selector, items)";if(Lt.indexOf(e)===-1){const i=Lt.map(o=>`"${o}"`).join(", ");throw new Error(`${n} takes an "at"-argument which is one of: ${i}`)}if(typeof t!="string")throw new Error(`${n} takes a "selector"-argument which must be a string`);if(!Array.isArray(r))throw new Error(`${n} takes an "items"-argument which must be an array`)},Ue=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},ar=e=>{if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e};function lt(e,t={},r=null){this.selection=e,this.operations=Object.assign({},t),this.client=r}Object.assign(lt.prototype,{clone(){return new lt(this.selection,Object.assign({},this.operations),this.client)},set(e){return this.assign("set",e)},diffMatchPatch(e){return je("diffMatchPatch",e),this.assign("diffMatchPatch",e)},unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this},setIfMissing(e){return this.assign("setIfMissing",e)},replace(e){return je("replace",e),this._set("set",{$:e})},inc(e){return this.assign("inc",e)},dec(e){return this.assign("dec",e)},insert(e,t,r){return kn(e,t,r),this.assign("insert",{[e]:t,items:r})},append(e,t){return this.insert("after",`${e}[-1]`,t)},prepend(e,t){return this.insert("before",`${e}[0]`,t)},splice(e,t,r,n){const i=typeof r>"u"||r===-1,o=t<0?t-1:t,s=i?-1:Math.max(0,t+r),u=o<0&&s>=0?"":s,c=`${e}[${o}:${u}]`;return this.insert("replace",c,n||[])},ifRevisionId(e){return this.operations.ifRevisionID=e,this},serialize(){return Object.assign(or(this.selection),this.operations)},toJSON(){return this.serialize()},commit(e={}){if(!this.client)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const t=typeof this.selection=="string",r=Object.assign({returnFirst:t,returnDocuments:!0},e);return this.client.mutate({patch:this.serialize()},r)},reset(){return this.operations={},this},_set(e,t){return this.assign(e,t,!1)},assign(e,t,r=!0){return je(e,t),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},r&&this.operations[e]||{},t)}),this}});var Te=lt,Hn={returnDocuments:!1};function ft(e=[],t,r){this.trxId=r,this.operations=e,this.client=t}Object.assign(ft.prototype,{clone(){return new ft(this.operations.slice(0),this.client,this.trxId)},create(e){return je("create",e),this._add({create:e})},createIfNotExists(e){const t="createIfNotExists";return je(t,e),Me(t,e),this._add({[t]:e})},createOrReplace(e){const t="createOrReplace";return je(t,e),Me(t,e),this._add({[t]:e})},delete(e){return sr("delete",e),this._add({delete:{id:e}})},patch(e,t){const r=typeof t=="function";if(e instanceof Te)return this._add({patch:e.serialize()});if(r){const i=t(new Te(e,{},this.client));if(!(i instanceof Te))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:Object.assign({id:e},t)})},transactionId(e){return e?(this.trxId=e,this):this.trxId},serialize(){return this.operations.slice()},toJSON(){return this.serialize()},commit(e){if(!this.client)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.client.mutate(this.serialize(),Object.assign({transactionId:this.trxId},Hn,e||{}))},reset(){return this.operations=[],this},_add(e){return this.operations.push(e),this}});var dt=ft,Ee=encodeURIComponent,ur=({query:e,params:t={},options:r={}})=>{const{tag:n,...i}=r,o=`query=${Ee(e)}`,s=n?`?tag=${Ee(n)}&${o}`:`?${o}`,u=Object.keys(t).reduce((c,v)=>`${c}&${Ee(`$${v}`)}=${Ee(JSON.stringify(t[v]))}`,s);return Object.keys(i).reduce((c,v)=>r[v]?`${c}&${Ee(v)}=${Ee(r[v])}`:c,u)},zn=nr(Un()),Bn=(e,t)=>t.reduce((r,n)=>(typeof e[n]>"u"||(r[n]=e[n]),r),{}),Vn=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((r,n)=>(r[n]=typeof e[n]>"u"?t[n]:e[n],r),{}),pt=function(e,t){return pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},pt(e,t)};function Et(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Nt(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ht(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function vt(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function ae(e){return typeof e=="function"}function cr(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Ke=cr(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function kt(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var Ot=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var u=Nt(s),c=u.next();!c.done;c=u.next()){var v=c.value;v.remove(this)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}else s.remove(this);var C=this.initialTeardown;if(ae(C))try{C()}catch(h){o=h instanceof Ke?h.errors:[h]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var p=Nt(d),l=p.next();!l.done;l=p.next()){var f=l.value;try{Ht(f)}catch(h){o=o??[],h instanceof Ke?o=vt(vt([],ht(o)),ht(h.errors)):o.push(h)}}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}}if(o)throw new Ke(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)Ht(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&kt(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&kt(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();Ot.EMPTY;function lr(e){return e instanceof Ot||e&&"closed"in e&&ae(e.remove)&&ae(e.add)&&ae(e.unsubscribe)}function Ht(e){ae(e)?e():e.unsubscribe()}var fr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Xn={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,vt([e,t],ht(r)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function Jn(e){Xn.setTimeout(function(){throw e})}function zt(){}function Gn(e){e()}var St=function(e){Et(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,lr(r)&&r.add(n)):n.destination=Zn,n}return t.create=function(r,n,i){return new yt(r,n,i)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Ot),Wn=Function.prototype.bind;function et(e,t){return Wn.call(e,t)}var Qn=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){De(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){De(n)}else De(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){De(r)}},e}(),yt=function(e){Et(t,e);function t(r,n,i){var o=e.call(this)||this,s;if(ae(r)||!r)s={next:r??void 0,error:n??void 0,complete:i??void 0};else{var u;o&&fr.useDeprecatedNextContext?(u=Object.create(r),u.unsubscribe=function(){return o.unsubscribe()},s={next:r.next&&et(r.next,u),error:r.error&&et(r.error,u),complete:r.complete&&et(r.complete,u)}):s=r}return o.destination=new Qn(s),o}return t}(St);function De(e){Jn(e)}function Yn(e){throw e}var Zn={closed:!0,next:zt,error:Yn,complete:zt},Kn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function eo(e){return e}function to(e){return e.length===0?eo:e.length===1?e[0]:function(r){return e.reduce(function(n,i){return i(n)},r)}}var Le=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this,o=no(t)?t:new yt(t,r,n);return Gn(function(){var s=i,u=s.operator,c=s.source;o.add(u?u.call(o,c):c?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=Bt(r),new r(function(i,o){var s=new yt({next:function(u){try{t(u)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});n.subscribe(s)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[Kn]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return to(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=Bt(t),new t(function(n,i){var o;r.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},e.create=function(t){return new e(t)},e}();function Bt(e){var t;return(t=e??fr.Promise)!==null&&t!==void 0?t:Promise}function ro(e){return e&&ae(e.next)&&ae(e.error)&&ae(e.complete)}function no(e){return e&&e instanceof St||ro(e)&&lr(e)}function oo(e){return ae(e==null?void 0:e.lift)}function dr(e){return function(t){if(oo(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function pr(e,t,r,n,i){return new io(e,t,r,n,i)}var io=function(e){Et(t,e);function t(r,n,i,o,s,u){var c=e.call(this,r)||this;return c.onFinalize=s,c.shouldUnsubscribe=u,c._next=n?function(v){try{n(v)}catch(C){r.error(C)}}:e.prototype._next,c._error=o?function(v){try{o(v)}catch(C){r.error(C)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=i?function(){try{i()}catch(v){r.error(v)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(St),so=cr(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function Se(e,t){var r=typeof t=="object";return new Promise(function(n,i){var o=!1,s;e.subscribe({next:function(u){s=u,o=!0},error:i,complete:function(){o?n(s):r?n(t.defaultValue):i(new so)}})})}function me(e,t){return dr(function(r,n){var i=0;r.subscribe(pr(n,function(o){n.next(e.call(t,o,i++))}))})}function Ae(e,t){return dr(function(r,n){var i=0;r.subscribe(pr(n,function(o){return e.call(t,o,i++)&&n.next(o)}))})}var ao=16e3-1200,Vt=zn.default,uo=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],co={includeResult:!0};function lo(e,t,r={}){const{url:n,token:i,withCredentials:o,requestTagPrefix:s}=this.clientConfig,u=r.tag&&s?[s,r.tag].join("."):r.tag,c={...Vn(r,co),tag:u},v=Bn(c,uo),C=ur({query:e,params:t,options:v,tag:u}),d=`${n}${this.getDataUrl("listen",C)}`;if(d.length>ao)return new Le(h=>h.error(new Error("Query too large for listener")));const p=c.events?c.events:["mutation"],l=p.indexOf("reconnect")!==-1,f={};return(i||o)&&(f.withCredentials=!0),i&&(f.headers={Authorization:`Bearer ${i}`}),new Le(h=>{let b=k(),P,m=!1;function E(){m||(j(),!m&&b.readyState===Vt.CLOSED&&(V(),clearTimeout(P),P=setTimeout(F,100)))}function I(q){h.error(fo(q))}function z(q){const U=hr(q);return U instanceof Error?h.error(U):h.next(U)}function W(q){m=!0,V(),h.complete()}function V(){b.removeEventListener("error",E,!1),b.removeEventListener("channelError",I,!1),b.removeEventListener("disconnect",W,!1),p.forEach(q=>b.removeEventListener(q,z,!1)),b.close()}function j(){l&&h.next({type:"reconnect"})}function k(){const q=new Vt(d,f);return q.addEventListener("error",E,!1),q.addEventListener("channelError",I,!1),q.addEventListener("disconnect",W,!1),p.forEach(U=>q.addEventListener(U,z,!1)),q}function F(){b=k()}function M(){m=!0,V()}return M})}function hr(e){try{const t=e.data&&JSON.parse(e.data)||{};return Object.assign({type:e.type},t)}catch(t){return t}}function fo(e){if(e instanceof Error)return e;const t=hr(e);return t instanceof Error?t:new Error(po(t))}function po(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}var ho=(e,t)=>e===!1?void 0:typeof e>"u"?t:e,vo=(e={})=>({dryRun:e.dryRun,returnIds:!0,returnDocuments:ho(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}),tt=e=>e.type==="response",yo=e=>e.body,go=(e,t)=>e.reduce((r,n)=>(r[t(n)]=n,r),Object.create(null)),mo=11264,bo={listen:lo,getDataUrl(e,t){const r=this.clientConfig,n=Ue(r),i=`/${e}/${n}`;return`/data${t?`${i}/${t}`:i}`.replace(/\/($|\?)/,"$1")},fetch(e,t,r={}){const n=r.filterResponse===!1?o=>o:o=>o.result,i=this._dataRequest("query",{query:e,params:t},r).pipe(me(n));return this.isPromiseAPI()?Se(i):i},getDocument(e,t={}){const r={uri:this.getDataUrl("doc",e),json:!0,tag:t.tag},n=this._requestObservable(r).pipe(Ae(tt),me(i=>i.body.documents&&i.body.documents[0]));return this.isPromiseAPI()?Se(n):n},getDocuments(e,t={}){const r={uri:this.getDataUrl("doc",e.join(",")),json:!0,tag:t.tag},n=this._requestObservable(r).pipe(Ae(tt),me(i=>{const o=go(i.body.documents||[],s=>s._id);return e.map(s=>o[s]||null)}));return this.isPromiseAPI()?Se(n):n},create(e,t){return this._create(e,"create",t)},createIfNotExists(e,t){return Me("createIfNotExists",e),this._create(e,"createIfNotExists",t)},createOrReplace(e,t){return Me("createOrReplace",e),this._create(e,"createOrReplace",t)},patch(e,t){return new Te(e,t,this)},delete(e,t){return this.dataRequest("mutate",{mutations:[{delete:or(e)}]},t)},mutate(e,t){const r=e instanceof Te||e instanceof dt?e.serialize():e,n=Array.isArray(r)?r:[r],i=t&&t.transactionId;return this.dataRequest("mutate",{mutations:n,transactionId:i},t)},transaction(e){return new dt(e,this)},dataRequest(e,t,r={}){const n=this._dataRequest(e,t,r);return this.isPromiseAPI()?Se(n):n},_dataRequest(e,t,r={}){const n=e==="mutate",i=e==="query",o=!n&&ur(t),s=!n&&o.length<mo,u=s?o:"",c=r.returnFirst,{timeout:v,token:C,tag:d,headers:p}=r,l=this.getDataUrl(e,u),f={method:s?"GET":"POST",uri:l,json:!0,body:s?void 0:t,query:n&&vo(r),timeout:v,headers:p,token:C,tag:d,canUseCdn:i};return this._requestObservable(f).pipe(Ae(tt),me(yo),me(h=>{if(!n)return h;const b=h.results||[];if(r.returnDocuments)return c?b[0]&&b[0].document:b.map(E=>E.document);const P=c?"documentId":"documentIds",m=c?b[0]&&b[0].id:b.map(E=>E.id);return{transactionId:h.transactionId,results:b,[P]:m}}))},_create(e,t,r={}){const n={[t]:e},i=Object.assign({returnFirst:!0,returnDocuments:!0},r);return this.dataRequest("mutate",{mutations:[n]},i)}};function vr(e){this.request=e.request.bind(e)}Object.assign(vr.prototype,{create(e,t){return this._modify("PUT",e,t)},edit(e,t){return this._modify("PATCH",e,t)},delete(e){return this._modify("DELETE",e)},list(){return this.request({uri:"/datasets"})},_modify(e,t,r){return ir(t),this.request({method:e,uri:`/datasets/${t}`,body:r})}});var wo=vr;function yr(e){this.client=e}Object.assign(yr.prototype,{list(){return this.client.request({uri:"/projects"})},getById(e){return this.client.request({uri:`/projects/${e}`})}});var Co=yr,_o=e=>{const t=[];for(const r in e)e.hasOwnProperty(r)&&t.push(`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`);return t.length>0?`?${t.join("&")}`:""};function gr(e){this.client=e}function Eo(e,t){return typeof window>"u"||!(t instanceof window.File)?e:Object.assign({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}Object.assign(gr.prototype,{upload(e,t,r={}){Nn(e);let n=r.extract||void 0;n&&!n.length&&(n=["none"]);const i=Ue(this.client.clientConfig),o=e==="image"?"images":"files",s=Eo(r,t),{tag:u,label:c,title:v,description:C,creditLine:d,filename:p,source:l}=s,f={label:c,title:v,description:C,filename:p,meta:n,creditLine:d};l&&(f.sourceId=l.id,f.sourceName=l.name,f.sourceUrl=l.url);const h=this.client._requestObservable({tag:u,method:"POST",timeout:s.timeout||0,uri:`/assets/${o}/${i}`,headers:s.contentType?{"Content-Type":s.contentType}:{},query:f,body:t});return this.client.isPromiseAPI()?Se(h.pipe(Ae(b=>b.type==="response"),me(b=>b.body.document))):h},delete(e,t){console.warn("client.assets.delete() is deprecated, please use client.delete(<document-id>)");let r=t||"";return/^(image|file)-/.test(r)?e._id&&(r=e._id):r=`${e}-${r}`,Ue(this.client.clientConfig),this.client.delete(r)},getImageUrl(e,t){const r=e._ref||e;if(typeof r!="string")throw new Error("getImageUrl() needs either an object with a _ref, or a string with an asset document ID");if(!/^image-[A-Za-z0-9_]+-\d+x\d+-[a-z]{1,5}$/.test(r))throw new Error(`Unsupported asset ID "${r}". URL generation only works for auto-generated IDs.`);const[,n,i,o]=r.split("-");Ue(this.client.clientConfig);const{projectId:s,dataset:u}=this.client.clientConfig,c=t?_o(t):"";return`https://cdn.sanity.io/images/${s}/${u}/${n}-${i}.${o}${c}`}});var Oo=gr;function mr(e){this.client=e}Object.assign(mr.prototype,{getById(e){return this.client.request({uri:`/users/${e}`})}});var So=mr;function br(e){this.client=e}Object.assign(br.prototype,{getLoginProviders(){return this.client.request({uri:"/auth/providers"})},logout(){return this.client.request({uri:"/auth/logout",method:"POST"})}});var jo=br,wr=nr(Mn());function He(e){const t=Cr(e);He.super.call(this,t.message),Object.assign(this,t)}function ze(e){const t=Cr(e);ze.super.call(this,t.message),Object.assign(this,t)}function Cr(e){const t=e.body,r={response:e,statusCode:e.statusCode,responseBody:Ro(t,e)};return t.error&&t.message?(r.message=`${t.error} - ${t.message}`,r):t.error&&t.error.description?(r.message=t.error.description,r.details=t.error,r):(r.message=t.error||t.message||To(e),r)}function To(e){const t=e.statusMessage?` ${e.statusMessage}`:"";return`${e.method}-request to ${e.url} resulted in HTTP ${e.statusCode}${t}`}function Ro(e,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(e,null,2):e}(0,wr.default)(He);(0,wr.default)(ze);var Po=[],qo={onResponse:e=>{if(e.statusCode>=500)throw new ze(e);if(e.statusCode>=400)throw new He(e);return e}},xo={onResponse:e=>{const t=e.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach(n=>console.warn(n)),e}},Ao=Po,Io=Ao.concat([xo,bn(),wn(),yn(),qo,En({implementation:Le})]),_r=sn(Io);function Be(e,t=_r){return t(Object.assign({maxRedirects:0},e))}Be.defaultRequester=_r;Be.ClientError=He;Be.ServerError=ze;var Ve=Be,Fo="X-Sanity-Project-ID",$o=(e,t={})=>{const r={},n=t.token||e.token;n&&(r.Authorization=`Bearer ${n}`),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(r[Fo]=e.projectId);const i=!!(typeof t.withCredentials>"u"?e.token||e.withCredentials:t.withCredentials),o=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},r,t.headers||{}),timeout:typeof o>"u"?5*60*1e3:o,proxy:t.proxy||e.proxy,json:!0,withCredentials:i})},Do="https://docs.sanity.io/help/";function Xe(e){return Do+e}var Uo=e=>{let t=!1,r;return(...n)=>(t||(r=e(...n),t=!0),r)},jt=e=>Uo((...t)=>console.warn(e.join(" "),...t)),Mo=jt(["You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and",`cheaper. Think about it! For more info, see ${Xe("js-client-cdn-configuration")}.`,"To hide this warning, please set the `useCdn` option to either `true` or `false` when creating","the client."]),Lo=jt(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${Xe("js-client-browser-token")} for more information and how to hide this warning.`]),No=jt(["Using the Sanity client without specifying an API version is deprecated.",`See ${Xe("js-client-api-version")}`]),ko="apicdn.sanity.io",gt={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,isPromiseAPI:!0},Ho=["localhost","127.0.0.1","0.0.0.0"],zo=e=>Ho.indexOf(e)!==-1,Bo=function(t){if(t==="1"||t==="X")return;const r=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&r instanceof Date&&r.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},Vo=(e,t)=>{const r=Object.assign({},t,e);r.apiVersion||No();const n=Object.assign({},gt,r),i=n.useProjectHostname;if(typeof Promise>"u"){const d=Xe("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${d}`)}if(i&&!n.projectId)throw new Error("Configuration must contain `projectId`");const o=typeof window<"u"&&window.location&&window.location.hostname,s=o&&zo(window.location.hostname);o&&s&&n.token&&n.ignoreBrowserTokenWarning!==!0?Lo():typeof n.useCdn>"u"&&Mo(),i&&Ln(n.projectId),n.dataset&&ir(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?ar(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion=`${n.apiVersion}`.replace(/^v/,""),n.isDefaultApi=n.apiHost===gt.apiHost,n.useCdn=!!n.useCdn&&!n.withCredentials,Bo(n.apiVersion);const u=n.apiHost.split("://",2),c=u[0],v=u[1],C=n.isDefaultApi?ko:v;return n.useProjectHostname?(n.url=`${c}://${n.projectId}.${v}/v${n.apiVersion}`,n.cdnUrl=`${c}://${n.projectId}.${C}/v${n.apiVersion}`):(n.url=`${n.apiHost}/v${n.apiVersion}`,n.cdnUrl=n.url),n};function ee(e=gt){if(!(this instanceof ee))return new ee(e);if(this.config(e),this.assets=new Oo(this),this.datasets=new wo(this),this.projects=new Co(this),this.users=new So(this),this.auth=new jo(this),this.clientConfig.isPromiseAPI){const t=Object.assign({},this.clientConfig,{isPromiseAPI:!1});this.observable=new ee(t)}}Object.assign(ee.prototype,bo);Object.assign(ee.prototype,{clone(){return new ee(this.config())},config(e){if(typeof e>"u")return Object.assign({},this.clientConfig);if(this.clientConfig&&this.clientConfig.allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");if(this.observable){const t=Object.assign({},e,{isPromiseAPI:!1});this.observable.config(t)}return this.clientConfig=Vo(e,this.clientConfig||{}),this},withConfig(e){return new ee({...this.config(),...e})},getUrl(e,t=!1){return`${t?this.clientConfig.cdnUrl:this.clientConfig.url}/${e.replace(/^\//,"")}`},isPromiseAPI(){return this.clientConfig.isPromiseAPI},_requestObservable(e){const t=e.url||e.uri,r=typeof e.canUseCdn>"u"?["GET","HEAD"].indexOf(e.method||"GET")>=0&&t.indexOf("/data/")===0:e.canUseCdn,n=this.clientConfig.useCdn&&r,i=e.tag&&this.clientConfig.requestTagPrefix?[this.clientConfig.requestTagPrefix,e.tag].join("."):e.tag||this.clientConfig.requestTagPrefix;i&&(e.query={tag:ar(i),...e.query});const o=$o(this.clientConfig,Object.assign({},e,{url:this.getUrl(t,n)}));return new Le(s=>Ve(o,this.clientConfig.requester).subscribe(s))},request(e){const t=this._requestObservable(e).pipe(Ae(r=>r.type==="response"),me(r=>r.body));return this.isPromiseAPI()?Se(t):t}});ee.Patch=Te;ee.Transaction=dt;ee.ClientError=Ve.ClientError;ee.ServerError=Ve.ServerError;ee.requester=Ve.defaultRequester;var Xo=ee;/*! Bundled license information:

event-source-polyfill/src/eventsource.js:
  (** @license
   * eventsource.js
   * Available under MIT License (MIT)
   * https://github.com/Yaffle/EventSource/
   *)
*/const Go=Xo({projectId:"u62jjaxi",dataset:"production",apiVersion:"2023-01-05",useCdn:!1});export{Go as c};
